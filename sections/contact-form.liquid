<div class="index-section newsletter-{{ section.id }} color-scheme-{{ section.settings.color_scheme }}">
  {%- if section.settings.color_scheme != 'none' -%}
  {%- render 'color-scheme-texture', color_scheme: section.settings.color_scheme -%}
  {%- endif -%}
  <div class="page-width{% if section.settings.narrow_column %} page-width--narrow{% endif %}">
    {%- if section.settings.title != blank or section.settings.text != blank -%}
    <div class="section-header text-center">
      {%- if section.settings.title != blank -%}
      <h2 class="title-font">{{ section.settings.title }}</h2>
      {%- endif -%}
      {%- if section.settings.text != blank -%}
      <div class="rte section-header__rte">{{ section.settings.text }}</div>
      {%- endif -%}
    </div>
    {% endif %}

    <div class="form-vertical">
      {%- assign form_id = 'contact-' | append: section.id -%}
      {%- form 'contact', id: form_id -%}

      {%- if form.posted_successfully? -%}
      <p class="note note--success">
        {{ 'contact.form.post_success' | t }}
      </p>
      {%- endif -%}

      {{ form.errors | default_errors }}

      <div class="grid grid--small">
        <div class="grid__item">
          <label for="ContactFormName-{{ section.id }}">{{ 'contact.form.fname' | t  }}</label>
          <input type="text" id="ContactFormName-{{ section.id }}" placeholder="First Name" class="input-full" name="contact[fname]" autocapitalize="words" value="{% if form.fname %}{{ form.fname }}{% elsif customer %}{{ customer.fname }}{% endif %}">
        </div>
        <div class="grid__item">
          <label for="ContactFormName-{{ section.id }}">{{ 'contact.form.lname' | t }}</label>
          <input type="text" id="ContactFormName-{{ section.id }}" class="input-full" placeholder="Last Name" name="contact[lname]" autocapitalize="words" value="{% if form.lname %}{{ form.lname }}{% elsif customer %}{{ customer.lname }}{% endif %}">
        </div>
        <div class="grid__item">
          <label for="ContactFormName-{{ section.id }}">{{ 'contact.form.subject' | t  }}</label>
          <input type="text" id="ContactFormName-{{ section.id }}" class="input-full" placeholder="Subject" name="contact[subject]" autocapitalize="words" value="{% if form.subject %}{{ form.subject }}{% elsif customer %}{{ customer.subject }}{% endif %}">
        </div>
        <div class="grid__item">
          <label for="ContactFormName-{{ section.id }}">{{ 'contact.form.company' | t  }}</label>
          <input type="text" id="ContactFormName-{{ section.id }}" class="input-full" placeholder="Company" name="contact[company]" autocapitalize="words" value="{% if form.company %}{{ form.company }}{% elsif customer %}{{ customer.company }}{% endif %}">
        </div>
        <div class="grid__item">
          <label for="ContactFormName-{{ section.id }}">{{ 'contact.form.address' | t  }}</label>
          <input type="text" id="ContactFormName-{{ section.id }}" class="input-full" placeholder="Address" name="contact[address]" autocapitalize="words" value="{% if form.address %}{{ form.address }}{% elsif customer %}{{ customer.address }}{% endif %}">
        </div>
        <div class="grid__item">
          <label for="ContactFormName-{{ section.id }}">{{ 'templates.contact.form.website-url' | t }}</label>
          <input type="text" id="ContactFormName-{{ section.id }}" class="input-full" placeholder="Website URL" name="contact[website-url]" autocapitalize="words" value="{% if form.website-url %}{{ form.website-url }}{% elsif customer %}{{ customer.website-url }}{% endif %}">
        </div>
        <div class="grid__item">
          <label for="ContactFormEmail-{{ section.id }}">{{ 'contact.form.email' | t }}</label>
          <input type="email" id="ContactFormEmail-{{ section.id }}" class="input-full" name="contact[email]" placeholder="Email" autocorrect="off" autocapitalize="off" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}">
        </div>
        <div class="grid__item">
          <label for="ContactFormPhone-{{ section.id }}">{{ 'contact.form.phone' | t }}</label>
          <input type="tel" id="ContactFormPhone-{{ section.id }}" class="input-full" name="contact[phone]" placeholder="Phone Number" pattern="[0-9\-]*" value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}">
        </div>
		<div class="grid__item">
        <label for="ContactFormMessage-{{ section.id }}">{{ 'contact.form.message' | t }}</label>
        <textarea rows="5" id="ContactFormMessage-{{ section.id }}" class="input-full" placeholder="Message" name="contact[body]">{% if form.body %}{{ form.body }}{% endif %}</textarea>
        </div>
        <div class="submit-btn-wrap">
        <button type="submit" class="btn btn--full">
          {{ 'contact.form.send' | t }}
        </button>
        </div>
        {% comment %}
        Remove the following three lines of code to remove the note
        about being protected by Google's reCAPTCHA service.
        By removing it, the small reCAPTCHA widget will appear in the
        bottom right corner of the page.
        {{ 'shopify.online_store.spam_detection.disclaimer_html' | t }}
        {% endcomment %}
      </div>

      {%- endform -%}
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Contact form",
	"class": "contact-section",
    "settings": [
      {
        "type": "paragraph",
        "content": "All submissions are sent to the customer email address of your store. [Learn more](https://help.shopify.com/en/manual/using-themes/change-the-layout/add-contact-form#view-contact-form-submissions)."
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Contact us"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text"
      },
      {
        "type": "checkbox",
        "id": "narrow_column",
        "label": "Narrow column",
        "default": true
      },
      {
        "type": "select",
        "id": "color_scheme",
        "label": "Color scheme",
        "default": "1",
        "options": [
          {
            "value": "none",
            "label": "None"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }
        ]
      }
    ],
    "presets": [{
      "name": "Contact form"
    }]
  }
{% endschema %}
