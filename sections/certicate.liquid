<section class="product-icon-text-section">
  <div class="page-width">
    <div class="flexbox">
      {% if section.settings.dynamic %}
        {% for block in section.blocks %}
          <div class="col">
            <div class="col-wrap">
              <div class="icon-text-block">
                {% if block.settings.iconimage != blank %}
                  <div class="icon-block">
                    <div class="icon-wrap">
                      <img
                        loading="lazy"
                        src="{{ block.settings.iconimage | image_url : width: 50 }}"
                        width="50"
                        height="50"
                        alt="{{ block.settings.iconimage.alt }}"
                      >
                    </div>
                  </div>
                {% endif %}
                {% if block.settings.text != blank %}
                  <div class="text-block">{{ block.settings.text }}</div>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <div class="col">
          <div class="col-wrap">
            <div class="icon-text-block">
              <div class="col">
                <div class="col-wrap">
                  <div class="icon-text-block">
                    <div class="icon-block">
                      <div class="icon-wrap">
                        {{ settings.iso_1 | image_url: width: 50 | image_tag: loading: 'lazy' }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-block">{{ block.settings.text }}</div>
            </div>
          </div>
        </div>
        <div class="icon-block">
          <div class="icon-wrap">
            {{ settings.iso_1 | image_url: width: 50 | image_tag: loading: 'lazy' }}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "certicate",
  "settings": [
      {
        "type": "checkbox",
        "id": "dynamic",
        "label": "Dynamic",
        "default":true
      }
  ],
  "max_blocks": 6,
  "blocks": [
    {
      "name": "Icon Text Block",
      "type": "icon-text-block",
      "settings": [
        {
          "type": "image_picker",
          "id": "iconimage",
          "label": "Icon Image"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text"
        }
      ]
    }
  ],
    "presets": [
     {
       "name": "certicate",
       "blocks": []
     }
   ]
}
{% endschema %}
