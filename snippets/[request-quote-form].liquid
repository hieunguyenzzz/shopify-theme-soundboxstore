{%- assign form_id = 'consultation-form' -%}
<style>
  #{{form_id}}-wrap:target{
  box-shadow:  rgb(248, 250, 252) 0px 0px 0px 2px, rgb(147, 197, 253) 0px 0px 0px 6px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px
  }

  #{{form_id}}{
    --color-error:red,

  }
  #{{form_id}} .input.blured:invalid{
    border-color: var(--color-error);
  }
  #{{form_id}} .input.blured:invalid+label{
    color: var(--color-error);
  }
  #{{form_id}} .input:not([required])+label::after{
    content: ' (Optional)';
  }
  #{{form_id}} .grid__item{
    display: flex;
    flex-direction: column-reverse;    margin-bottom:1em;
  }
  #{{form_id}}  .grid__item .input,  #{{form_id}}  .grid__item textarea{
    padding: 0.8em; border-color:#454545;background:white;    max-width: 400px;

  }
  #{{form_id}} .grid__item label{
    margin-bottom:0.2em;display:none;
  }
  #Contact_us_form{
    scroll-margin-top: 140px;
    text-align:center
  }

   #{{form_id}}-wrap .site-nav__dropdown-item_title {
             font-size:0.6em;
             line-height: 1.3;
             padding: 0;
             text-transform: uppercase;
             display: block;
             white-space: pre-line;
             font-weight: 500;
             overflow: hidden;
             text-overflow: ellipsis;
              }
           #{{form_id}}-wrap .site-nav__dropdown-item{
               background:#fff;width:min(100px,20vw);height:100%;border:2px solid;
                          flex-direction: column;
           }


  #{{form_id}}-wrap .site-nav__dropdown-item_title
           .site-nav__dropdown-ittemprice {
              text-transform: capitalize;
            }
          #{{form_id}}-wrap .site-nav__dropdown-item_image{
           width:100%;
           padding:0
         }
      #{{form_id}}-wrap .site-nav__dropdown-item_seats img {
        height: 20px;
        width: auto;
    }
    #{{form_id}}-wrap .site-nav__dropdown-item_seats{
      display:flex;
      flex-wrap:wrap;
      gap:0 0.7em
    }
     #{{form_id}}-wrap .site-nav__dropdown-item {
      display: flex;
       align-items:flex-start
  }
   #{{form_id}}-wrap .site-nav__dropdown-item_image {
    width: 100%;

       flex-shrink:0;
   }
   #{{form_id}}-wrap .site-nav__dropdown-item_image img{
  aspect-ratio:1/1
   }
    #{{form_id}}-wrap .site-nav__dropdown-item_content{
    padding: 0 0.5em 0.5em;
    display: flex;
    flex-direction: column;
    gap: 0.5em;
  }
</style>
<div id="{{form_id}}-wrap">
  {%- form 'contact', id: form_id, class: 'target:ring-3' -%}
    {%- if form.posted_successfully? -%}
      <p class="note note--success">
        {{ 'contact.form.post_success' | t }}
      </p>
    {%- endif -%}
    {{ form.errors | default_errors }}
    <div class="grid grid--small">
      <div class="grid__item">
        <input
          type="text"
          required
          placeholder="Full name"
          class="input-full input"
          name="contact[full_name]"
          autocapitalize="words"
          value=""
        >
        <label for="ContactFormName-{{ section.id }}">Full name</label>
      </div>
      <div class="grid__item">
        <input
          class="input-full input"
          autocomplete="email"
          type="email"
          required
          id="ContactForm-email"
          class="field__input"
          name="contact[email]"
          spellcheck="false"
          autocapitalize="off"
          value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
          aria-required="true"
          {% if form.errors contains 'email' %}
            aria-invalid="true"aria-describedby="ContactForm-email-error"
          {% endif -%}
          placeholder="{{ 'contact.form.email' | t }}"
        >
        <label for="ContactFormEmail-{{ section.id }}">{{ 'contact.form.email' | t }}</label>
      </div>
      <div class="grid__item">
        <input
          type="tel"
          required
          id="ContactFormPhone-{{ section.id }}"
          class="input-full input"
          name="contact[phone]"
          placeholder="{{ 'contact.form.phone' | t }}"
          pattern="[0-9\-]*"
          value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}"
        >
        <label for="ContactFormPhone-{{ section.id }}">{{ 'contact.form.phone' | t }}</label>
      </div>
      <div class="grid__item">
        <input
          type="text"
          required
          placeholder="Company name"
          class="input-full input"
          name="contact[company_name]"
          autocapitalize="words"
          value=""
        >
        <label for="ContactFormName-{{ section.id }}">Company name</label>
      </div>

      <div class="grid__item">
        <select
          type="text"
          required
          placeholder="Country/Region"
          class="input-full input"
          name="contact[Country/Region]"
          style="    appearance: auto;"
          value="{{ localization.country.iso_code }}"
        >
          {% assign countrymap = '
GB en,
IE ie /en-ie,
US en /en-us,
DK da /da-dk,
SE se /sv-se,
DE de /de-de,
NO no /no-no,
FR fr /fr-fr,
NL nl /nl-nl,
BE nl /nl-be show,
BE fr /fr-be show,
AT de /de-at,
CH de /de-ch,
ES es /es-es,
FI fi /fi-fi,
PL pl /pl-pl,
IT it /it-it' %}

          {% assign contrylangs = countrymap | split: ',' %}
          {%- for contrylang in contrylangs -%}
            {% assign contrylangarray = contrylang | split: ' ' %}
            {% assign contrycode = contrylangarray[0] %}
            {% assign country = localization.available_countries | where: 'iso_code', contrycode | first %}
            {% unless country %}
              {% continue %}
            {% endunless %}
            <option
              value="{{ country.iso_code }}"
              {% if localization.country.iso_code == country.iso_code %}
                selected
              {% endif %}
            >
              {{ country.name }}
            </option>
          {%- endfor -%}
          <option value="other">Other</option>
        </select>
        <label for="ContactFormName-{{ section.id }}">Country/Region</label>
      </div>
      <div class="grid__item">
        <textarea
          rows="5"
          required
          id="ContactFormMessage-{{ section.id }}"
          class="input-full input"
          placeholder="Potential Booths Interest In?"
          name="contact[body]"
          value="{%- if form.body -%}{{ form.body }}{%- endif -%}"
        ></textarea>
        <label for="ContactFormMessage-{{ section.id }}">{{ 'contact.form.message' | t }}</label>
      </div>
      {% assign collection = collections['menu-booths'] %}
      {% unless collection %}
        {% assign collection = collections.first %}
      {% endunless %}
      <div class="grid__item">
        <div
          style="
            display: flex;
            gap: 0.3em;
            flex-wrap: wrap;
          "
        >
          {% for product in collection.products %}
            <div>
              {% assign title = product.metafields.custom.menu_title.value | default: product.title %}
              {% assign subtitle = product.metafields.custom.menu_subtitle.value
                | default: product.metafields.custom.subtitle
              %}
              {% assign image = product.metafields.custom.menu_image.value %}
              <div class="site-nav__dropdown-item" href="{{ pages['accessories'].url }}">
                <div class="site-nav__dropdown-item_image">
                  {{ image | image_url: width: 300 | image_tag: class: '' }}
                </div>
                <div class="site-nav__dropdown-item_content">
                  <div class="site-nav__dropdown-item_title">{{ title }}</div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
        <label style="display:block" for="ContactFormMessage-{{ section.id }}"
          >Select the booths you are most interested in</label
        >
      </div>

      <div class="submit-btn-wrap grid__item">
        <div>
          <button
            type="submit"
            class="btn"
          >
            CONTACT SALES
          </button>
        </div>
      </div>
    </div>
  {%- endform -%}
</div>
